<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Itinerary ‚Äì One-Up Travel</title>

  <style>
    body {
      margin: 0;
      background: #000;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    /* TOP NAV */
    nav.top-menu {
      position: fixed;
      top: 20px;
      width: 100%;
      text-align: center;
      z-index: 20;
    }

    nav.top-menu a {
      color: #aaa;
      margin: 0 20px;
      text-decoration: none;
      font-size: 16px;
      transition: 0.2s ease;
    }

    nav.top-menu a:hover {
      color: #fff;
      font-weight: bold;
    }

    /* HAMBURGER */
    .hamburger {
      position: fixed;
      top: 20px;
      left: 20px;
      width: 34px;
      height: 34px;
      background: #111;
      border: 1px solid #222;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 200;
      color: #fff;
      font-size: 18px;
      transition: 0.3s ease;
    }

    .hamburger.open {
      left: 260px;
    }

    .hamburger:hover {
      box-shadow: 0 0 10px rgba(255,255,255,0.15);
      border-color: #fff;
    }

    /* SIDEBAR */
    .sidebar {
      width: 240px;
      background: #0b0b0b;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      padding: 80px 20px;
      border-right: 1px solid #161616;
      transform: translateX(-100%);
      transition: 0.3s ease;
      overflow-y: auto;
      z-index: 150;
    }

    .sidebar.open {
      transform: translateX(0);
    }

    .sidebar-item {
      display: block;
      background: #111;
      border: 1px solid #222;
      padding: 14px;
      border-radius: 12px;
      margin-bottom: 14px;
      text-align: center;
      font-size: 16px;
      color: #ccc;
      text-decoration: none;
      transition: 0.2s ease;
      cursor: pointer;
    }

    .sidebar-item:hover {
      box-shadow: 0 0 10px rgba(255,255,255,0.15);
      border-color: #fff;
      font-weight: bold;
    }

    /* MAIN CONTENT */
    .content {
      margin-left: 0;
      padding: 100px 40px 40px;
      transition: 0.3s ease;
    }

    .trip-header {
      max-width: 900px;
      margin: 0 auto 40px;
      text-align: center;
    }

    .trip-header h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .trip-dates {
      color: #aaa;
      font-size: 18px;
    }

    /* SUMMARY CARDS */
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      max-width: 900px;
      margin: 0 auto 40px;
    }

    .summary-card {
      background: #111;
      border: 1px solid #222;
      border-radius: 14px;
      padding: 20px;
      text-align: center;
      transition: 0.2s ease;
    }

    .summary-card:hover {
      box-shadow: 0 0 10px rgba(255,255,255,0.15);
      border-color: #fff;
    }

    .summary-card .label {
      color: #aaa;
      font-size: 14px;
      margin-bottom: 8px;
    }

    .summary-card .value {
      font-size: 24px;
      font-weight: 600;
    }

    /* VIEW TOGGLE */
    .view-toggle {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-bottom: 30px;
    }

    .view-btn {
      background: #111;
      border: 1px solid #222;
      color: #aaa;
      padding: 12px 30px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s ease;
      font-size: 16px;
    }

    .view-btn:hover {
      border-color: #fff;
      color: #fff;
    }

    .view-btn.active {
      background: #fff;
      color: #000;
      border-color: #fff;
      font-weight: 600;
    }

    /* CALENDAR VIEW */
    .calendar-container {
      display: none;
      max-width: 900px;
      margin: 0 auto;
    }

    .calendar-container.active {
      display: block;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
      margin-bottom: 20px;
    }

    .calendar-header {
      text-align: center;
      font-weight: 600;
      padding: 12px;
      color: #aaa;
      font-size: 14px;
    }

    .calendar-day {
      background: #111;
      border: 1px solid #222;
      border-radius: 10px;
      padding: 12px;
      min-height: 120px;
      position: relative;
      transition: 0.2s ease;
    }

    .calendar-day:hover {
      border-color: #fff;
      box-shadow: 0 0 10px rgba(255,255,255,0.15);
    }

    .calendar-day.empty {
      opacity: 0.3;
    }

    .calendar-day.trip-day {
      border-color: #4ade80;
      background: #0f1f14;
    }

    .day-number {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 16px;
    }

    .day-label {
      font-size: 11px;
      color: #666;
      margin-bottom: 8px;
    }

    .calendar-event {
      background: #1a1a1a;
      border-left: 3px solid;
      padding: 6px 8px;
      margin-bottom: 6px;
      border-radius: 4px;
      font-size: 12px;
      line-height: 1.3;
    }

    .calendar-event.flight {
      border-color: #3b82f6;
      background: #0a1628;
    }

    .calendar-event.hotel {
      border-color: #a855f7;
      background: #1a0f2e;
    }

    .calendar-event.activity {
      border-color: #f59e0b;
      background: #2b1f0a;
    }

    .calendar-event.insurance {
      border-color: #10b981;
      background: #0a2616;
    }

    .event-icon {
      margin-right: 4px;
    }

    .calendar-legend {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 20px;
      padding: 20px;
      background: #111;
      border: 1px solid #222;
      border-radius: 10px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
    }

    .legend-color {
      width: 20px;
      height: 20px;
      border-radius: 4px;
    }

    /* ITINERARY SECTIONS */
    .itinerary-container {
      max-width: 900px;
      margin: 0 auto;
      display: block;
    }

    .itinerary-container.hidden {
      display: none;
    }

    .section {
      background: #111;
      border: 1px solid #222;
      border-radius: 14px;
      padding: 24px;
      margin-bottom: 20px;
      transition: 0.2s ease;
    }

    .section:hover {
      box-shadow: 0 0 10px rgba(255,255,255,0.15);
      border-color: #fff;
    }

    .section-header {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .icon {
      font-size: 24px;
    }

    .item {
      background: #0a0a0a;
      border: 1px solid #1a1a1a;
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 12px;
    }

    .item-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 16px;
    }

    .item-details {
      color: #aaa;
      font-size: 14px;
      line-height: 1.6;
    }

    .price {
      color: #4ade80;
      font-weight: 600;
      margin-top: 8px;
    }

    /* TOTAL PRICE */
    .total-section {
      background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
      border: 2px solid #333;
      border-radius: 14px;
      padding: 30px;
      text-align: center;
      margin-top: 30px;
    }

    .total-section h2 {
      font-size: 28px;
      margin-bottom: 10px;
    }

    .total-price {
      font-size: 48px;
      font-weight: 700;
      color: #4ade80;
    }

    /* BOOK BUTTON */
    .book-btn {
      background: #fff;
      color: #000;
      border: none;
      padding: 16px 40px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 20px;
      transition: 0.2s ease;
    }

    .book-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 20px rgba(255,255,255,0.3);
    }

    .coming-soon {
      color: #aaa;
      font-size: 14px;
      margin-top: 10px;
    }
  </style>
</head>

<body>

  <!-- TOP NAV -->
  <nav class="top-menu">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
  </nav>

  <!-- HAMBURGER -->
  <div class="hamburger" onclick="toggleSidebar()">‚ò∞</div>

  <!-- SIDEBAR -->
  <div class="sidebar" id="sidebar">
    <a href="itinerary.html" class="sidebar-item" style="background: #1a1a1a;">Itinerary</a>
    <div class="sidebar-item" onclick="alert('Budget tracking coming soon!')">Budget</div>
    <a href="index.html" class="sidebar-item">+ New Trip</a>
  </div>

  <div class="content">
    
    <!-- TRIP HEADER -->
    <div class="trip-header">
      <h1 id="tripTitle">Loading your trip...</h1>
      <div class="trip-dates" id="tripDates">Generating itinerary...</div>
    </div>

    <!-- SUMMARY CARDS -->
    <div class="summary-grid">
      <div class="summary-card">
        <div class="label">Duration</div>
        <div class="value" id="duration">7 days</div>
      </div>
      <div class="summary-card">
        <div class="label">Total Cost</div>
        <div class="value" id="totalCost">$2,450</div>
      </div>
      <div class="summary-card">
        <div class="label">Activities</div>
        <div class="value" id="activityCount">12</div>
      </div>
      <div class="summary-card">
        <div class="label">Status</div>
        <div class="value" style="color: #fbbf24;">Planning</div>
      </div>
    </div>

    <!-- VIEW TOGGLE -->
    <div class="view-toggle">
      <button class="view-btn active" onclick="switchView('list')">üìã List View</button>
      <button class="view-btn" onclick="switchView('calendar')">üìÖ Calendar View</button>
    </div>

    <!-- CALENDAR VIEW -->
    <div class="calendar-container" id="calendarView">
      <div class="calendar-grid" id="calendarGrid">
        <!-- Calendar will be generated here -->
      </div>
      <div class="calendar-legend">
        <div class="legend-item">
          <div class="legend-color" style="background: #3b82f6;"></div>
          <span>‚úàÔ∏è Flights</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #a855f7;"></div>
          <span>üè® Accommodation</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #f59e0b;"></div>
          <span>üéØ Activities</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #10b981;"></div>
          <span>üõ°Ô∏è Insurance</span>
        </div>
      </div>
    </div>

    <!-- ITINERARY SECTIONS -->
    <div class="itinerary-container">
      
      <!-- FLIGHTS -->
      <div class="section">
        <div class="section-header">
          <span class="icon">‚úàÔ∏è</span>
          <span>Flights</span>
        </div>
        <div id="flightsContainer"></div>
      </div>

      <!-- ACCOMMODATION -->
      <div class="section">
        <div class="section-header">
          <span class="icon">üè®</span>
          <span>Accommodation</span>
        </div>
        <div id="accommodationContainer"></div>
      </div>

      <!-- ACTIVITIES -->
      <div class="section">
        <div class="section-header">
          <span class="icon">üéØ</span>
          <span>Activities & Experiences</span>
        </div>
        <div id="activitiesContainer"></div>
      </div>

      <!-- INSURANCE -->
      <div class="section">
        <div class="section-header">
          <span class="icon">üõ°Ô∏è</span>
          <span>Travel Insurance</span>
        </div>
        <div id="insuranceContainer"></div>
      </div>

      <!-- TOTAL -->
      <div class="total-section">
        <h2>Total Trip Cost</h2>
        <div class="total-price" id="finalTotal">$2,450</div>
        <button class="book-btn" onclick="bookTrip()">Book This Trip</button>
        <div class="coming-soon">* Automatic booking coming soon</div>
      </div>

    </div>

  </div>

<script>
  // Sample trip data - Replace with actual API call
  const tripData = {
    destination: "Bali, Indonesia",
    startDate: "March 15, 2026",
    endDate: "March 22, 2026",
    duration: 7,
    flights: [
      {
        title: "Outbound Flight",
        details: "United Airlines UA842<br>Brisbane (BNE) ‚Üí Denpasar (DPS)<br>Depart: Mar 15, 8:30 AM | Arrive: Mar 15, 2:15 PM<br>Duration: 6h 45m (Direct)",
        price: 450,
        date: "March 15, 2026",
        time: "8:30 AM"
      },
      {
        title: "Return Flight",
        details: "United Airlines UA843<br>Denpasar (DPS) ‚Üí Brisbane (BNE)<br>Depart: Mar 22, 4:00 PM | Arrive: Mar 22, 11:45 PM<br>Duration: 6h 45m (Direct)",
        price: 480,
        date: "March 22, 2026",
        time: "4:00 PM"
      }
    ],
    accommodation: [
      {
        title: "Alila Ubud Resort",
        details: "Luxury hillside resort with infinity pool<br>7 nights | Deluxe Room with Valley View<br>Check-in: Mar 15 | Check-out: Mar 22<br>Includes: Daily breakfast, WiFi, Spa access",
        price: 980,
        checkIn: "March 15, 2026",
        checkOut: "March 22, 2026"
      }
    ],
    activities: [
      {
        title: "Ubud Monkey Forest & Rice Terraces",
        details: "Guided tour including Sacred Monkey Forest, Tegalalang Rice Terrace, and traditional lunch<br>Duration: Full day | Includes transport",
        price: 65,
        date: "March 16, 2026"
      },
      {
        title: "Sunrise Mount Batur Hike",
        details: "Early morning trek to summit for sunrise views<br>Includes: Guide, breakfast at peak, hotel pickup<br>Difficulty: Moderate",
        price: 75,
        date: "March 17, 2026"
      },
      {
        title: "Balinese Cooking Class",
        details: "Traditional cooking class in Ubud<br>Includes: Market tour, hands-on cooking, lunch<br>Duration: 5 hours",
        price: 55,
        date: "March 19, 2026"
      },
      {
        title: "Tirta Empul Temple & Waterfall Tour",
        details: "Visit holy water temple and Tegenungan Waterfall<br>Includes: Entry fees, guide, transport<br>Duration: 6 hours",
        price: 60,
        date: "March 20, 2026"
      }
    ],
    insurance: [
      {
        title: "Comprehensive Travel Insurance",
        details: "Coverage: Medical ($100k), Trip cancellation, Lost baggage, Flight delays<br>Provider: World Nomads<br>Duration: 7 days",
        price: 85,
        startDate: "March 15, 2026",
        endDate: "March 22, 2026"
      }
    ]
  };

  // View switching
  function switchView(view) {
    const listView = document.querySelector('.itinerary-container');
    const calendarView = document.getElementById('calendarView');
    const buttons = document.querySelectorAll('.view-btn');
    
    buttons.forEach(btn => btn.classList.remove('active'));
    
    if (view === 'calendar') {
      listView.classList.add('hidden');
      calendarView.classList.add('active');
      buttons[1].classList.add('active');
      generateCalendar();
    } else {
      listView.classList.remove('hidden');
      calendarView.classList.remove('active');
      buttons[0].classList.add('active');
    }
  }

  // Generate calendar
  function generateCalendar() {
    const calendarGrid = document.getElementById('calendarGrid');
    calendarGrid.innerHTML = '';
    
    // Add day headers
    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    days.forEach(day => {
      const header = document.createElement('div');
      header.className = 'calendar-header';
      header.textContent = day;
      calendarGrid.appendChild(header);
    });
    
    // Parse trip dates
    const startDate = new Date(tripData.startDate);
    const endDate = new Date(tripData.endDate);
    
    // Get calendar start (beginning of week)
    const calendarStart = new Date(startDate);
    calendarStart.setDate(startDate.getDate() - startDate.getDay());
    
    // Get calendar end (end of week)
    const calendarEnd = new Date(endDate);
    calendarEnd.setDate(endDate.getDate() + (6 - endDate.getDay()));
    
    // Generate calendar days
    const currentDate = new Date(calendarStart);
    while (currentDate <= calendarEnd) {
      const dayElement = createCalendarDay(currentDate, startDate, endDate);
      calendarGrid.appendChild(dayElement);
      currentDate.setDate(currentDate.getDate() + 1);
    }
  }

  function createCalendarDay(date, tripStart, tripEnd) {
    const day = document.createElement('div');
    day.className = 'calendar-day';
    
    const dateString = date.toLocaleDateString('en-US', { 
      month: 'long', 
      day: 'numeric', 
      year: 'numeric' 
    });
    
    // Check if this day is part of the trip
    const isTripDay = date >= tripStart && date <= tripEnd;
    
    if (!isTripDay) {
      day.classList.add('empty');
    } else {
      day.classList.add('trip-day');
    }
    
    // Add day number
    const dayNumber = document.createElement('div');
    dayNumber.className = 'day-number';
    dayNumber.textContent = date.getDate();
    day.appendChild(dayNumber);
    
    // Add day label
    if (isTripDay) {
      const dayLabel = document.createElement('div');
      dayLabel.className = 'day-label';
      const tripDay = Math.floor((date - tripStart) / (1000 * 60 * 60 * 24)) + 1;
      dayLabel.textContent = `Day ${tripDay}`;
      day.appendChild(dayLabel);
    }
    
    // Add events for this day
    if (isTripDay) {
      addEventsForDay(day, dateString);
    }
    
    return day;
  }

  function addEventsForDay(dayElement, dateString) {
    // Check flights
    tripData.flights.forEach(flight => {
      if (flight.date === dateString) {
        const event = document.createElement('div');
        event.className = 'calendar-event flight';
        event.innerHTML = `<span class="event-icon">‚úàÔ∏è</span>${flight.title}`;
        event.title = flight.details.replace(/<br>/g, '\n');
        dayElement.appendChild(event);
      }
    });
    
    // Check accommodation
    tripData.accommodation.forEach(hotel => {
      const checkIn = new Date(hotel.checkIn);
      const currentDate = new Date(dateString);
      const checkOut = new Date(hotel.checkOut);
      
      if (currentDate >= checkIn && currentDate < checkOut) {
        const event = document.createElement('div');
        event.className = 'calendar-event hotel';
        event.innerHTML = `<span class="event-icon">üè®</span>${hotel.title.split(' ')[0]}...`;
        event.title = hotel.title;
        dayElement.appendChild(event);
      }
    });
    
    // Check activities
    tripData.activities.forEach(activity => {
      if (activity.date === dateString) {
        const event = document.createElement('div');
        event.className = 'calendar-event activity';
        const shortTitle = activity.title.length > 20 ? 
          activity.title.substring(0, 18) + '...' : activity.title;
        event.innerHTML = `<span class="event-icon">üéØ</span>${shortTitle}`;
        event.title = activity.title;
        dayElement.appendChild(event);
      }
    });
    
    // Check insurance
    tripData.insurance.forEach(insurance => {
      const insStart = new Date(insurance.startDate);
      const currentDate = new Date(dateString);
      const insEnd = new Date(insurance.endDate);
      
      // Only show on first day
      if (currentDate.getTime() === insStart.getTime()) {
        const event = document.createElement('div');
        event.className = 'calendar-event insurance';
        event.innerHTML = `<span class="event-icon">üõ°Ô∏è</span>Insurance Active`;
        event.title = insurance.title;
        dayElement.appendChild(event);
      }
    });
  }

  // Calculate totals
  function calculateTotals() {
    let total = 0;
    
    tripData.flights.forEach(f => total += f.price);
    tripData.accommodation.forEach(a => total += a.price);
    tripData.activities.forEach(act => total += act.price);
    tripData.insurance.forEach(i => total += i.price);
    
    return total;
  }

  // Render itinerary
  function renderItinerary() {
    // Get user's input trip
    const userTrip = localStorage.getItem('currentTrip');
    if (userTrip) {
      document.getElementById('tripTitle').textContent = `Your Trip to ${tripData.destination}`;
    } else {
      document.getElementById('tripTitle').textContent = `Your Trip to ${tripData.destination}`;
    }
    
    document.getElementById('tripDates').textContent = `${tripData.startDate} - ${tripData.endDate}`;
    document.getElementById('duration').textContent = `${tripData.duration} days`;
    document.getElementById('activityCount').textContent = tripData.activities.length;

    // Render flights
    const flightsHTML = tripData.flights.map(f => `
      <div class="item">
        <div class="item-title">${f.title}</div>
        <div class="item-details">${f.details}</div>
        <div class="price">$${f.price}</div>
      </div>
    `).join('');
    document.getElementById('flightsContainer').innerHTML = flightsHTML;

    // Render accommodation
    const accomHTML = tripData.accommodation.map(a => `
      <div class="item">
        <div class="item-title">${a.title}</div>
        <div class="item-details">${a.details}</div>
        <div class="price">$${a.price}</div>
      </div>
    `).join('');
    document.getElementById('accommodationContainer').innerHTML = accomHTML;

    // Render activities
    const activitiesHTML = tripData.activities.map(act => `
      <div class="item">
        <div class="item-title">${act.title}</div>
        <div class="item-details">${act.details}</div>
        <div class="price">$${act.price}</div>
      </div>
    `).join('');
    document.getElementById('activitiesContainer').innerHTML = activitiesHTML;

    // Render insurance
    const insuranceHTML = tripData.insurance.map(i => `
      <div class="item">
        <div class="item-title">${i.title}</div>
        <div class="item-details">${i.details}</div>
        <div class="price">$${i.price}</div>
      </div>
    `).join('');
    document.getElementById('insuranceContainer').innerHTML = insuranceHTML;

    // Update totals
    const total = calculateTotals();
    document.getElementById('totalCost').textContent = `$${total}`;
    document.getElementById('finalTotal').textContent = `$${total}`;
  }

  function toggleSidebar() {
    const sidebar = document.getElementById("sidebar");
    const burger = document.querySelector(".hamburger");
    sidebar.classList.toggle("open");
    burger.classList.toggle("open");
  }

  function bookTrip() {
    alert('üéâ Great choice! Automatic booking feature coming soon.\n\nFor now, you can:\n‚Ä¢ Save this itinerary\n‚Ä¢ Share with travel companions\n‚Ä¢ Book manually using the details above\n\nStay tuned for one-click booking!');
  }

  // Initialize on page load
  window.onload = renderItinerary;
</script>

</body>
</html>
